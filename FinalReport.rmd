---
title: "GSS challange Less Data"
author: "Roxan Barakat"
date: "03-14-2023"
output: html_document
---







```{r include=FALSE,echo=FALSE}
require(tidyverse)
require(tigerstats)
require(knitr)
require(foreign)
GSS <-read.dta(file="GSS2016.dta")
GSS <- droplevels(GSS)
mydata <- select(GSS,sex,race,cappun,degree,relig,gunlaw,tvhours,owngun,age,wordsum)
mydata <- na.omit(mydata)
source(file = "fisherXY.R")
```

# Introduction

<!--In this section you explain what you are trying to show.  Where did the data come from?  What is the research or other question you are trying to answer?.  If you skimp in this section expect to be marked down in your grade. Paint a picture of the project a couple of paragraphs is expected!-->

Is attitude toward capitol punishment (cappun) independent of race (race)?
If not, then whose view differs from whom??

# Methods

<!--Decide on your methods:  use "variable analysis" or other appropriate descriptors.  Make sure to choose at least one graphical method and at least one numerical method. Discuss what data manipulations may be needed for example subsetting or other binning procedures and what sort of graphical displays and inferential tools will be used!-->

# Results

<!--Divide this section into two sub-sections:  One for your descriptive  results and one for your inferential results.!-->

## Descriptive Results

### Graphical Descriptive Results

<!--Graphical results here.  Make sure to show your code.  Provide appropriate labels for axes, giving units if possible, and provide a good title for the graph, too.  Use the graphical results to describe the patterns if any that exist in the data as focused toward the research question. Bottom line is to explain the features of the graph that are relevant to conforming or departing to what is expected by your null hypothesis !-->


```{r}
barchartGC(~race + cappun,data=mydata)
barchartGC(~race + cappun,data=mydata, type="percent")

```

Even though there's less people, the bar graph is similar to the Master branch. There's more white people favoring capitol punishment thatn opposing it. There's more black people opposing capitol punishment than favoring it. Lastly, other races favor capitol punishment over opposing it. Whites favor capitol punishment the most, while the highest percentage in opposition of capiol punishment is for blacks. 

## Now with LESS data (more variables give less data due to NA's) create the approate graphic displays to answer the question.





### Numerical Descriptive Results

<!--Numerical results go here. Use the numerical results to describe the patterns if any that exist in the data as focused toward the research question!-->
```{r}
table1 <- xtabs(~race + cappun, data=mydata)
rowPerc(table1)
colPerc(table1)
```

The table above shows that there's 66% of the white population in favor of capitol punishment while 32% is opposed. Other population has 61% in favor and 39% opposed. The black population has 47% in favor with 53% opposed. The percentages here differ from those in the master branch, but still are very similar.



## Inferential Results

<!--State hypothesis clearly.  Make sure your discussion of the inferential test covers all the aspects that the test output produces, such as test statistic, p-value etc.  Make a decision about the null hypothesis, explain the assumptions on which the selected test/procedure was based, and why the chosen procedure satisfys the assumptions and is appropriate to answer the research question!-->
```{r}
chisq.test(table1)
chisqtestGC(table1)
fisher.test(table1)
```

The Chi-squared test  is a measure of the difference between the observed and expected frequencies of the outcomes of a set of events or variables. Observed data wasn't much different from the expected since numbers were close. For example, observed counts for whites who are in favor are 416, expectd whites who are in favor are about 400. 



```{r}
fisherXY(mydata$race,mydata$cappun,printAll=TRUE)
```
The fisher XY test shows that White and Black are different since the p-value is 1.7 x 10^-5. White and Other are not different due to the p-value being 0.25. Black and Other are close to being different since the p-value is 0.063 which is a bit greater than 0.05. A p-value greater than 0.5 indicates that the null hypothesis is true meaning there's a difference between the 2 groups, a p-value less than 0.5 is statistically significant. 


# Discussion and Conclusion

<!--Discussion and conclusion here.  If you found a relationship be sure to consider whether the relationship occurs because one of the variavbles causes the other, or whether they perhasps are related for some other reason.  Watch the chapter 6 videos from the GeorgeTown videos collection.!-->

The data above shows that the population of whites had the most in favor for capitol punishment. The second highest was the population of other and the lowest was the population of blacks. This is similar to the values from the master branch, but the percentage in this branch were higher than in the master branch since we were given a smaller sample size. 

